const SESSION={preferredSite:docCookies.hasItem("preferredSite")&&docCookies.getItem("preferredSite")||"",isIFrame:window.location!=window.parent.location,modalActive:!1,dropDownActive:!1};if(SESSION.isIFrame)console.log("Admin session");else{const oReq=new XMLHttpRequest;function getCountry(ele){const countryCode=ele.target.response.country_code,countryName=ele.target.response.country_name;console.log(countryName),getPreferredSite(countryCode,countryName)}function getUrlVars(){const vars={},parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(m,key,value){vars[key]=value}));vars&&null!=vars.redirected&&"true"==vars.redirected||docCookies.hasItem("redirected")&&"true"==docCookies.getItem("redirected")?console.log("User has been redirected"):"NA"==SESSION.preferredSite?(docCookies.setItem("redirected",!0),docCookies.setItem("preferredSite","NA")):(docCookies.setItem("redirected",!0),docCookies.setItem("preferredSite","EU"))}function getPreferredSite(countryCode,countryName){const naCountryCodes=["AG","AI","AQ","AR","AS","AU","AW","BB","BD","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BZ","CA","CC","CK","CL","CN","CO","CR","CW","CX","DM","DO","EC","FJ","FK","FM","GD","GF","GP","GS","GT","GU","GY","HK","HM","HN","HT","ID","IN","JM","JP","KH","KI","KN","KP","KR","KY","LA","LC","LK","MF","MH","MN","MO","MP","MQ","MS","MV","MX","MY","NC","NF","NI","NP","NR","NU","NZ","PA","PE","PF","PG","PH","PK","PM","PN","PR","PW","PY","SB","SG","SR","SV","SX","TC","TF","TH","TK","TO","TT","TV","UM","US","UY","VC","VE","VG","VI","VN","VU","WF","WS"],currentLocationWrappers=document.getElementsByClassName("current-location");Array.prototype.forEach.call(currentLocationWrappers,(function(currentLocationWrapper,index){currentLocationWrapper.innerText="Ships to: North, South, and Central America"})),naCountryCodes.includes(countryCode)?(console.log("NoAm Site"),SESSION.preferredSite="NA",docCookies.setItem("preferredSite","NA")):(console.log("Europe Site"),SESSION.preferredSite="EU",docCookies.setItem("preferredSite","EU")),getUrlVars()}oReq.open("GET","https://geoip-db.com/json/",!0),oReq.responseType="json",oReq.send(),oReq.onload=function(ele){getCountry(ele)}}function pinClickHandler(event){let eles=document.getElementsByClassName("location-selection-wrapper");SESSION.dropDownActive?(Array.prototype.forEach.call(eles,(function(ele,index){ele.classList.add("hidden")})),SESSION.dropDownActive=!1):(Array.prototype.forEach.call(eles,(function(ele,index){ele.classList.remove("hidden")})),SESSION.dropDownActive=!0)}function pinMouseOnHandler(event){let eles=document.getElementsByClassName("location-selection-wrapper");Array.prototype.forEach.call(eles,(function(ele,index){ele.classList.remove("hidden")}))}function pinMouseOffHandler(event){let eles=document.getElementsByClassName("location-selection-wrapper");Array.prototype.forEach.call(eles,(function(ele,index){ele.classList.add("hidden")}))}function modalClickHandler(event){console.log("modal active?"+SESSION.modalActive),SESSION.modalActive?(Array.prototype.forEach.call(SESSION.modals,(function(modal,index){modal.classList.add("hidden")})),SESSION.modalActive=!1):(Array.prototype.forEach.call(SESSION.modals,(function(modal,index){modal.classList.remove("hidden")})),SESSION.modalActive=!0)}document.addEventListener("DOMContentLoaded",(function(){SESSION.modals=document.getElementsByClassName("location-modal");const pins=document.getElementsByClassName("pin-wrapper");Array.prototype.forEach.call(pins,(function(pin,index){window.innerWidth>1024,pin.addEventListener("click",pinClickHandler)}));const triggers=document.getElementsByClassName("modal-trigger");Array.prototype.forEach.call(triggers,(function(trigger,index){trigger.addEventListener("click",modalClickHandler)}));const locationOverlays=document.getElementsByClassName("overlay");Array.prototype.forEach.call(locationOverlays,(function(overlay,index){overlay.classList.contains("locations")&&overlay.addEventListener("click",modalClickHandler)}));const modalOuterWrappers=document.getElementsByClassName("modal-outer-wrapper");Array.prototype.forEach.call(modalOuterWrappers,(function(wrapper,index){wrapper.addEventListener("click",modalClickHandler)}))}));